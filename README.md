# Google Drive API WorkSpace User Sharing Files

Google Drive APIを使ってworkspaceのメールアドレスに共有されたファイルを取得する

## setup

### ステップ1: ドメイン全体のアクセス

1. [Google Cloud Console](https://console.cloud.google.com/)にアクセスし、プロジェクトを作成または選択します。
2. 左側のナビゲーションメニューから「OAuth 2.0 クライアントID」を選択します。
3. 「認証情報」ページで「認証情報を作成」ボタンをクリックし、「OAuth 2.0 クライアントID」を選択します。
4. 「アプリケーションの種類」で「ウェブアプリケーション」を選択します。
5. 「承認済みのリダイレクトURI」には、リダイレクトURIを追加します（例: `https://localhost`）。これは後で変更できます。
6. 「アクセス範囲」を「内部」に設定します。
7. 必要な情報を入力し、「作成」ボタンをクリックします。

### ステップ2: Admin SDKの有効化

1. Google Cloud Consoleのナビゲーションメニューから「ライブラリ」を選択します。
2. 検索バーに「Admin SDK」と入力し、検索結果から「Admin SDK」を選択します。
3. 「有効にする」ボタンをクリックして、Admin SDKを有効にします。

### ステップ3: サービスアカウントの作成

1. Google Cloud Consoleのナビゲーションメニューから「サービスアカウント」を選択します。
2. 「サービスアカウントを作成」ボタンをクリックします。
3. 必要な情報を入力し、サービスアカウントを作成します。
4. 作成したサービスアカウントの詳細ページに移動し、「キー」タブを選択します。
5. 「キーを追加」ボタンをクリックし、「JSON」を選択してキーをダウンロードします。

### ステップ4: ドメイン全体の委任権限の付与

1. Google Workspaceの[Admin Console](https://admin.google.com/)にアクセスします。
2. セキュリティ > APIコントロールに移動します。
3. 「ドメイン全体の委任」セクションで、「管理対象のクライアント」をクリックします。
4. サービスアカウントのクライアントIDを入力し、Google Drive APIのスコープ（`https://www.googleapis.com/auth/drive`）を追加します。

これで、ステップ1からステップ4までの設定が完了しました。次に、Pythonスクリプトを使用して、特定のGoogle Workspaceのメールアドレスに対して共有されたファイルにアクセスする準備ができました。

スクリプトを提供する前に、これらの手順を完了しましたか？それとも、途中でサポートが必要ですか？
